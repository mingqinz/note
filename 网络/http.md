# http

### http0.9

http的初代版本，纯文本格式，在get从服务器上获取文档，并且在服务器响应之后立即关闭连接。



### Http1.0

- 增加了 HEAD、POST 等新方法；
- 增加了响应状态码，标记可能的错误原因；
- 引入了协议版本号概念；
- 引入了 HTTP Header（头部）的概念，让 HTTP 处理请求和响应更加灵活；
- 传输的数据不再仅限于文本。

### http1.1

- 增加了 PUT、DELETE 等新的方法；
- 增加了缓存管理和控制；
- 明确了连接管理，允许持久连接；
- 允许响应数据分块（chunked），利于传输大文件；
- 强制要求 Host 头，让互联网主机托管成为可能。

### http2

- 二进制协议，不再是纯文本；

> 二进制传输，简单高效，且保证不会有歧义

- 可发起多个请求，废弃了 1.1 里的管道；

> 流是可并发，设置优先级，流 ID 不能重用，所以流的生命周期就是 HTTP/1 里的一次完整的“请求 - 应答”，流关闭就是一次通信结束。解决了http1.1的队头阻塞，流ID用完，用控制帧关闭tcp

- 使用专用算法压缩头部，减少数据传输量；

> 在服务端和客户端建立字典，分静态表和动态表，用索引号表示重复的字符串，采用哈夫曼算法压缩

- 允许服务器主动向客户端推送数据；
- 增强了安全性，“事实上”要求加密通信。

### http3

>  QUIC 就选定了 UDP，在它之上把 TCP 的那一套连接管理、拥塞窗口、流量控制等“搬”了过来，“去其糟粕，取其精华”，打造出了一个全新的可靠传输协议，可以认为是“新时代的 TCP”。

- HTTP/3 基于 QUIC 协议，完全解决了“队头阻塞”问题，弱网环境下的表现会优于 HTTP/2；
- QUIC 是一个新的传输层协议，建立在 UDP 之上，实现了可靠传输；
- QUIC 内含了 TLS1.3，只能加密通信，支持 0-RTT 快速建连；
- QUIC 的连接使用“不透明”的连接 ID，不绑定在“IP 地址 + 端口”上，支持“连接迁移”；
- QUIC 的流与 HTTP/2 的流很相似，但分为双向流和单向流；
- HTTP/3 没有指定默认端口号，需要用 HTTP/2 的扩展帧“Alt-Svc”来发现。









